"use strict";(self.webpackChunkai_unlimited_docs=self.webpackChunkai_unlimited_docs||[]).push([[6017],{3472:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=i(4848),t=i(8453);const o={id:"prod-aws-permissions",title:"Full Installation - AWS - IAM roles and policies",description:"Learn what roles and policies are needed for accessing AWS resources.",sidebar_label:"Create an IAM role and policies",sidebar_position:6},r="Create an IAM role and policies",l={id:"temp-folder/AWS-temp/before-you-begin/prod-aws-permissions",title:"Full Installation - AWS - IAM roles and policies",description:"Learn what roles and policies are needed for accessing AWS resources.",source:"@site/docs/temp-folder/AWS-temp/before-you-begin/prod-aws-permissions-policies.md",sourceDirName:"temp-folder/AWS-temp/before-you-begin",slug:"/temp-folder/AWS-temp/before-you-begin/prod-aws-permissions",permalink:"/ai-unlimited-docs/de/docs/temp-folder/AWS-temp/before-you-begin/prod-aws-permissions",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{id:"prod-aws-permissions",title:"Full Installation - AWS - IAM roles and policies",description:"Learn what roles and policies are needed for accessing AWS resources.",sidebar_label:"Create an IAM role and policies",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Prepare your AWS account",permalink:"/ai-unlimited-docs/de/docs/temp-folder/AWS-temp/before-you-begin/prod-aws-prepare-your-account"},next:{title:"Before you begin",permalink:"/ai-unlimited-docs/de/docs/temp-folder/Azure-temp/prod-azure-prerequisites"}},a={},c=[];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"create-an-iam-role-and-policies",children:"Create an IAM role and policies"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"Jack will write up how this all works--AI Unlim service vs. engine, etc. This topic needs work."})})}),"\n",(0,n.jsx)(s.p,{children:"Use IAM roles and policies to grant AI Unlimited permissions to deploy and access AWS resources."}),"\n",(0,n.jsx)(s.p,{children:"You have the option to either let the CloudFormation template create a new role along with the necessary policies, or you can use an existing role and attach the required policy to it. If you have the permission to create IAM resources, the CloudFormation template can create the roles and policies for AI Unlimited. Otherwise, you can utilize an existing role and attach required policies based on your permissions and specific needs."}),"\n",(0,n.jsx)(s.p,{children:"AI Unlimited can pass the role and policies that you provide to the cluster."}),"\n",(0,n.jsxs)(s.p,{children:["See ",(0,n.jsx)(s.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions_create-policies.html",children:"Creating roles and attaching policies (console)"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"Holding on to this next sentence as is for the time being, but we have to be careful about documenting a third-pary UI:"})})}),"\n",(0,n.jsxs)(s.p,{children:["Configure these policies in the AWS Management Console in ",(0,n.jsx)(s.strong,{children:"Security & Identity"})," > ",(0,n.jsx)(s.strong,{children:"Identity & Access Management"})," > ",(0,n.jsx)(s.strong,{children:"Create Policy"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"Use these JSON samples to create the policies you need, and attach them to the role:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/policies/ai-unlimited-workspaces.json",children:"ai-unlimited-workspaces.json"}),": Includes permissions to create engine instances, and grants AI Unlimited permissions to create a cluster-specific role and policies."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/policies/ai-unlimited-workspaces-without-iam-role-permissions.json",children:"ai-unlimited-without-iam-role-permissions.json"}),": Includes permissions to create engine instances, but not those needed for AI Unlimited to create cluster-specific roles and policies. Use this, and ",(0,n.jsx)(s.strong,{children:"ai-unlimited-engine.jason"}),", if your AWS account has restrictions that won't allow AI Unlimited to create roles and policies."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/policies/ai-unlimited-engine.json",children:"ai-unlimited-engine.json"}),": Allows AI Unlimited to pass the role to the cluster each time the engine is deployed. Use this with ",(0,n.jsx)(s.strong,{children:"ai-unlimited-without-iam-role-permissions.json"}),". Modify the policy with your your account details."]}),"\n",(0,n.jsx)(s.p,{children:"If AI Unlimited creates cluster-specific policies, they are restricted as follows:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'"Resource": ["arn:aws:secretsmanager:`REGION`:`ACCOUNT_ID`:secret:compute-engine/`CLUSTER_NAME`/`SECRET_NAME`"]\n'})}),"\n",(0,n.jsxs)(s.p,{children:["For the role you provide, you can't predict the cluster name, so use a wildcard in the policy ",(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"(which one?)"})}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'"arn:aws:secretsmanager:`REGION`:`ACCOUNT_ID`:secret:compute-engine/*"\nor\n"arn:aws:secretsmanager:`REGION`:111111111111:secret:compute-engine/*"\nor\n"arn:aws:secretsmanager:us-west-2:111111111111:secret:compute-engine/*"\n'})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/policies/session-manager.json",children:"session-manager.json"}),": Includes permissions to interact with the AWS Session Manager. Use this if you plan to use Session Manager to connect to the engine to closely manage it."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"TA: I think we can remove the below section"}),"*"]}),"\n",(0,n.jsx)(s.p,{children:"How the engine cluster gets the role"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"TA: User needs to provide IAM role and policies to deploy AI Unlimited. This value is what we provide in the CloudFormation Template"})})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"TA: This is what we define in the AI Unlimited UI"})})," Each time a user deploys the engine from their Jupyter notebook, the engine's cluster needs the role and policies. It gets them one of two ways:"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"TA: We can avoid using cluster and just use engine"})})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"But doesn't the role get assigned to the cluster? to allow it to deploy the engine?"})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["AI Unlimited can create a cluster-specific role with policies based on the role and policies you provide\u2014if your AWS account allows this. ",(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:'(Is this allowed via ai-unlimited-workspaces.json, simple as that, or is "if your AWS account allows this" referring to something else?)'})})]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>l});var n=i(6540);const t={},o=n.createContext(t);function r(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);