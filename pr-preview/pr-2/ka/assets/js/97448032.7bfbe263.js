"use strict";(self.webpackChunkai_unlimited_docs=self.webpackChunkai_unlimited_docs||[]).push([[8140],{4572:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var s=n(4848),i=n(8453);const o={id:"aws-persistent-storage",title:"Full Installation - AWS - Use Persistent Volumes",description:"Learn how to use persistent volumes for AI Unlimited on AWS",sidebar_label:"Persistent volumes on AWS",sidebar_position:2,tags:["Install AI Unlimited","Install on AWS","Prerequisites to install AI Unlimited","Getting started"]},a="Persistent volumes on AWS",r={id:"advanced/aws-persistent-storage",title:"Full Installation - AWS - Use Persistent Volumes",description:"Learn how to use persistent volumes for AI Unlimited on AWS",source:"@site/docs/advanced/aws-persistent-storage.md",sourceDirName:"advanced",slug:"/advanced/aws-persistent-storage",permalink:"/ai-unlimited-docs/ka/docs/advanced/aws-persistent-storage",draft:!1,unlisted:!1,tags:[{label:"Install AI Unlimited",permalink:"/ai-unlimited-docs/ka/docs/tags/install-ai-unlimited"},{label:"Install on AWS",permalink:"/ai-unlimited-docs/ka/docs/tags/install-on-aws"},{label:"Prerequisites to install AI Unlimited",permalink:"/ai-unlimited-docs/ka/docs/tags/prerequisites-to-install-ai-unlimited"},{label:"Getting started",permalink:"/ai-unlimited-docs/ka/docs/tags/getting-started"}],version:"current",sidebarPosition:2,frontMatter:{id:"aws-persistent-storage",title:"Full Installation - AWS - Use Persistent Volumes",description:"Learn how to use persistent volumes for AI Unlimited on AWS",sidebar_label:"Persistent volumes on AWS",sidebar_position:2,tags:["Install AI Unlimited","Install on AWS","Prerequisites to install AI Unlimited","Getting started"]},sidebar:"tutorialSidebar",previous:{title:"AWS account requirements",permalink:"/ai-unlimited-docs/ka/docs/advanced/aws-account-requirements"},next:{title:"Azure account requirements",permalink:"/ai-unlimited-docs/ka/docs/advanced/azure-account-requirements"}},l={},d=[];function c(e){const t={code:"code",em:"em",h1:"h1",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"persistent-volumes-on-aws",children:"Persistent volumes on AWS"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"WIP - and will probably move this"})})}),"\n",(0,s.jsxs)(t.p,{children:["With AI Unlimited, you can redeploy your engine for which the state needs to be persisted regardless of container, pod, or node crashes or terminations. This feature requires persistent storage, that is, storage that lives beyond the lifetime of the container, pod, or node. AI Unlimited uses the instance root volume of the instance to save data in the JupyterLab ",(0,s.jsx)(t.strong,{children:"/userdata"})," folder, AI Unlimited database, and configuration files. The data persists if you shut down, restart, or snapshot and relaunch the instance. However, if the instance is terminated, your JupyterLab data and AI Unlimited database are lost, and this could pose problems if running on-the-spot instances, which may be removed without warning. If you want a highly persistent instance, enable the ",(0,s.jsx)(t.code,{children:"UsePersistentVolume"})," parameter to move the JupyterLab data and AI Unlimited database to a separate volume."]}),"\n",(0,s.jsx)(t.p,{children:"The following recommended persistent volume flow remounts the volume and retains the data:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Create a new deployment with ",(0,s.jsx)(t.code,{children:"UsePersistentVolume"})," set as ",(0,s.jsx)(t.strong,{children:"New"})," and ",(0,s.jsx)(t.code,{children:"PersistentVolumeDeletionPolicy"})," set as ",(0,s.jsx)(t.strong,{children:"Retain"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"In the stack outputs, note the volume-id for future use."}),"\n",(0,s.jsx)(t.li,{children:"Configure and use the instance until the instance is terminated."}),"\n",(0,s.jsxs)(t.li,{children:["On the next deployment, use the following settings:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"UsePersistentVolume"})," set as ",(0,s.jsx)(t.strong,{children:"New"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"PersistentVolumeDeletionPolicy"})," set as ",(0,s.jsx)(t.strong,{children:"Retain"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ExistingPersistentVolumeId"})," set to the volume-id from the previous deployment"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"You can relaunch the template with the same configuration whenever you need to recreate the instance with the earlier data."})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(6540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);