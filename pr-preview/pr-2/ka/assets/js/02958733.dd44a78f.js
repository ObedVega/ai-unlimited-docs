"use strict";(self.webpackChunkai_unlimited_docs=self.webpackChunkai_unlimited_docs||[]).push([[434],{4725:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var s=a(4848),n=a(8453);const o={id:"aws-cli-deploy-jupyter",title:"Deploy JupyterLab from the AWS CLI",description:"Learn how to deploy JupyterLab using the AWS Cloudformation template from the AWS CLI.",sidebar_label:"AWS CLI",sidebar_position:2},i="Deploy the template from the AWS CLI",r={id:"temp-folder/install-jupyter-cli/aws-cli-deploy-jupyter",title:"Deploy JupyterLab from the AWS CLI",description:"Learn how to deploy JupyterLab using the AWS Cloudformation template from the AWS CLI.",source:"@site/docs/temp-folder/install-jupyter-cli/aws-cli-deploy-jupyter.md",sourceDirName:"temp-folder/install-jupyter-cli",slug:"/temp-folder/install-jupyter-cli/aws-cli-deploy-jupyter",permalink:"/ai-unlimited-docs/ka/docs/temp-folder/install-jupyter-cli/aws-cli-deploy-jupyter",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"aws-cli-deploy-jupyter",title:"Deploy JupyterLab from the AWS CLI",description:"Learn how to deploy JupyterLab using the AWS Cloudformation template from the AWS CLI.",sidebar_label:"AWS CLI",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Create a custom role with the required permissions",permalink:"/ai-unlimited-docs/ka/docs/temp-folder/Azure-temp/before-you-begin/prod-azure-create-custom-role"},next:{title:"Azure CLI",permalink:"/ai-unlimited-docs/ka/docs/temp-folder/install-jupyter-cli/azure-cli-deploy-jupyter"}},l={},c=[{value:"Decide which template to use",id:"decide-which-template-to-use",level:2},{value:"New section?",id:"new-section",level:2},{value:"Create a stack",id:"create-a-stack",level:2},{value:"Delete a stack",id:"delete-a-stack",level:2},{value:"Get stack information",id:"get-stack-information",level:2},{value:"Get stack outputs",id:"get-stack-outputs",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"deploy-the-template-from-the-aws-cli",children:"Deploy the template from the AWS CLI"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"Maybe we'll use more partials. Not sure yet."})})}),"\n",(0,s.jsxs)(t.p,{children:["The CloudFormation template deploys a server instance with JupyterLab running in a container controlled by ",(0,s.jsx)(t.a,{href:"/ai-unlimited-docs/ka/docs/glossary#glo-systemd",children:"systemd"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"decide-which-template-to-use",children:"Decide which template to use"}),"\n",(0,s.jsx)(t.h2,{id:"new-section",children:"New section?"}),"\n",(0,s.jsx)(t.p,{children:"The Jupyter template's parameter file is here: '/deployments/aws/parameters/'."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"Do they add/change values to the parm JSON file? Seems like we need a section for the parms, like what's in the console topic - we could use a partial that works for the console Jupyter topic and this CLI Jupyter topic."})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:'Related... the console topic tells them they can configure stack options. How do they set those options if they use the CLI? Looks like that\'s "tags" and "capabilities" in the code below. Maybe link to AWS doc about that? Compare that part of the AWS console to what\'s in the code here. For the console do we need to point out anything in particular on the UI page that follows the parms?'})})}),"\n",(0,s.jsx)(t.h2,{id:"create-a-stack",children:"Create a stack"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["You can deploy the stack using the ",(0,s.jsx)(t.code,{children:"aws cloudformation create-stack"})," or ",(0,s.jsx)(t.code,{children:"aws cloudformation deploy"})," commands. This example uses ",(0,s.jsx)(t.code,{children:"aws cloudformation create-stack"}),". See ",(0,s.jsx)(t.a,{href:"https://docs.aws.amazon.com/cli/latest/reference/cloudformation/#cli-aws-cloudformation",children:"AWS CLI Command Reference"})," for the syntax differences."]})}),"\n",(0,s.jsx)(t.p,{children:"Run the command that matches the template you're using:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"The user has already cloned the repo. For the CLI (not the concole), seems they can reference the local template file and don't need to download it. Maybe we need to include the paths to the template and parm files starting with /deployments/ in the code below? How does this work?"})})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:" # Create the stack using jupyter-with-alb.yaml\naws cloudformation create-stack --stack-name jupyter-with-alb \\\n  --template-body file://templates/jupyter-with-alb.yaml \\\n  --parameters file://parameters/jupyter-with-alb.json \\\n  --tags AnotherKey=AnotherValue \\\n  --capabilities CAPABILITY_IAM CAPABILITY_NAMED_IAM\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:" # Create the stack using jupyter-with-nlb.yaml\naws cloudformation create-stack --stack-name jupyter-with-nlb \\\n  --template-body file://templates/jupyter-with-nlb.yaml \\\n  --parameters file://parameters/jupyter-with-nlb.json \\\n  --tags AnotherKey=AnotherValue \\\n  --capabilities CAPABILITY_IAM CAPABILITY_NAMED_IAM\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:" # Create the stack using jupyter-without-lb.yaml\naws cloudformation create-stack --stack-name jupyter-without-lb \\\n  --template-body file://templates/jupyter-without-lb.yaml \\\n  --parameters file://parameters/jupyter-without-lb.json \\\n  --tags AnotherKey=AnotherValue \\\n  --capabilities CAPABILITY_IAM CAPABILITY_NAMED_IAM\n"})}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"CAPABILITY_IAM is required if IamRole is set to New."}),"\n",(0,s.jsx)(t.li,{children:"CAPABILITY_NAMED_IAM is required if IamRole is set to New and IamRoleName is given a value."}),"\n"]})]}),"\n",(0,s.jsxs)(t.p,{children:["To use an existing role, see Control AWS Access and Permissions using Permissions and Policies. ",(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"Is this to be an external link--or our topic that's WIP?"})})]}),"\n",(0,s.jsx)(t.h2,{id:"delete-a-stack",children:"Delete a stack"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:'Let\'s remove. This topic is for installing. If they want to eventually remove the stack, as CLI users maybe they know how to run "delete-stack"? Maybe originally this topic was a reference, not an installation task topic.'})})}),"\n",(0,s.jsx)(t.p,{children:"Run this command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"aws cloudformation delete-stack --stack-name <stackname> \n"})}),"\n",(0,s.jsx)(t.h2,{id:"get-stack-information",children:"Get stack information"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"Can we tell them what sort of information or why they do this? Is this something they normally do after creating a stack?"})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"Delete-stack is in the first line of code--probably there by mistake."})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"The second one is also in the last section."})})}),"\n",(0,s.jsx)(t.p,{children:"Run this command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"aws cloudformation delete-stack --stack-name <stackname>\naws cloudformation describe-stacks --stack-name <stackname> \naws cloudformation describe-stack-events --stack-name <stackname> \naws cloudformation describe-stack-instance --stack-name <stackname> \naws cloudformation describe-stack-resource --stack-name <stackname> \naws cloudformation describe-stack-resources --stack-name <stackname>\n"})}),"\n",(0,s.jsx)(t.h2,{id:"get-stack-outputs",children:"Get stack outputs"}),"\n",(0,s.jsx)(t.p,{children:"Run this command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"aws cloudformation describe-stacks --stack-name <stackname>  --query 'Stacks[0].Outputs' --output table\n"})}),"\n",(0,s.jsx)(t.p,{children:"***Tell them how to access JupyterLab."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:'Do they get that from "describe-stacks"?'})})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>r});var s=a(6540);const n={},o=s.createContext(n);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);