---
id: aws-console-deploy-ai-unlimited-jupyter
title: ClouFormation template from the AWS Console 
description: Learn how to deploy Teradata AI Unlimited JupyterLab using the CloudFormation Template from the AWS Management Console.
sidebar_position: 5
tags:
  - Install AI Unlimited
  - Install on AWS
  - Prerequisites to install AI Unlimited
  - Getting started
---

# Deploy the CloudFormation templates from the AWS Management Console

:::note
If the account deploying AI Unlimited does not have sufficient IAM permissions to create IAM roles or IAM policies, contact your cloud administrator.
:::

To deploy AI Unlimited from the AWS Management Console, do the following:

1. Sign on to your AWS account on the AWS Management Console.
2. Check the **AWS Region** displayed in the upper-right corner of the navigation bar and change it if necessary. Teradata recommends selecting a region closest to your primary work location.
3.	Go to **CloudFormation** > **Create Stack**. Select **Create Stack** and select **With new resources (standard)**.
4.	Select **Template is ready**, and then upload one of the downloaded all-in-one template files from the Teradata AI Unlimited GitHub repository. This template deploys a single instance with AI Unlimited and JupyterLab running on the same instance.
    - [all-in-one-with-alb.yaml](https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/templates/all-in-one/all-in-one-with-alb.yaml) CloudFormation template for use cases where AI Unlimited and JupyterLab are hosted behind the application load balancer.
    - [all-in-one-with-nlb.yaml](https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/templates/all-in-one/all-in-one-with-nlb.yaml) CloudFormation template for use cases where AI Unlimited and JupyterLab are hosted behind the network load balancer.
    - [all-in-one-without-lb.yaml](https://github.com/Teradata/ai-unlimited/blob/develop/deployments/aws/templates/all-in-one/all-in-one-without-lb.yaml) CloudFormation template for use cases where load balancers are not used.

5.	Review the parameters for the template. Provide values for the parameters that require input. For all other parameters, review the default settings and customize them as necessary. When you finish reviewing and customizing the parameters, choose **Next**.  

:::note
The parameters for each template vary; hence, not all listed in the table may be available on the AWS console.
:::

In the section, parameters are listed by category:
<details>

<summary>**AWS instance and network parameters**</summary>
| Parameter | Description | Required? | Default | Notes
|---------|-------------|-----------|-----------|-----------|
| InstanceType | The EC2 instance type that you want to use for the service. | Required with default | t3.small | Teradata recommends using the default instance type to save costs. |
| RootVolumeSize | The size of the root disk you want to attach to the instance, in GB. | Required with default | 8 | Supports values between 8 and 1000. |
| TerminationProtection | Enable instance termination protection. | Required with default | false | |
|IamRole | Specifies whether CloudFormation should create a new IAM role or use an existing one. | Required with default | New | Supported options are: New or Existing |
|IamRoleName | The name of the IAM role to assign to the instance, either an existing IAM role or a  newly created IAM role. | Optional with default | ai-unlimited-iam-role | If naming a new IAM role, CloudFormation requires the `CAPABILITY_NAMED_IAM` capability. Leave this blank to use an autogenerated name. |
|IamPermissionsBoundary	| The ARN of the IAM permissions boundary to associate with the IAM role assigned to the instance. | Optional | | |
|AvailabilityZone | The availability zone to which you want to deploy the instance. |Required | |The value must match the subnet, the zone of any pre-existing volumes, and the instance type must be available in the selected zone. |
|LoadBalancerScheme		|If a load balancer is used, this field specifies whether the instance is accessible from the Internet or only from within the VPC.|Optional with default. This option is not available in the template without load balancers. |Internet-facing | The DNS name of an Internet-facing load balancer is publicly resolvable to the public IP addresses of the nodes. Therefore, Internet-facing load balancers can route requests from clients over the Internet. The nodes of an internal load balancer have only private IP addresses. The DNS name of an internal load balancer is publicly resolvable to the personal IP addresses of the nodes. Therefore, internal load balancers can route requests from clients with access to the VPC for the load balancer. |
|LoadBalancerSubnetOne | The subnet where the load balancer is hosted. The subnet determines load balancer availability zones, IP addresses, and endpoints. |Optional with default	|	| You must define a minimum of one available subnet to create a Network Load Balancer (NLB) and two subnets for an Application Load Balancer (ALB).|
| LoadBalancerSubnetTwo| The subnet where the load balancer is hosted. |Optional. This option is only available in the template with ALB.||This subnet must be in a different availability zone than the first subnet you chose.|
|HostedZoneID |	The ID that Amazon Route 53 assigned to the hosted zone when you created it.|||	Each hosted zone corresponds to a domain name, or possibly a subdomain. The hosted zone is the container for DNS records, where you configure how the world interacts with your domain, such as pointing it to an IP address with a record. On the AWS console, go to **Route 53** > **Hosted zones**. Find your registered domain name and the corresponding Hosted zone ID.|
|DnsName|	The name of the domain. For public hosted zones, this is the name you registered with your DNS registrar. | | |For information about how to specify characters other than a-z, 0-9, and - (hyphen) and how to specify internationalized domain names, see [Create Hosted Zone](https://docs.aws.amazon.com/Route53/latest/APIReference/API_CreateHostedZone.html).|
|Private	|Specifies whether the service is deployed in a private network without public IPs.|Required|false| |
|Session	|Specifies whether you can use the AWS Session Manager to access the instance.|Required|false| |
|Vpc		|The network to which you want to deploy the instance.|Required|||
|Subnet	|The subnetwork to which you want to deploy the instance.|Required||The subnet must reside in the selected availability zone.|
|KeyName		|The public/private key pair which allows you to connect securely to your instance after it launches. When you create an AWS account, this is the key pair you create in your preferred region.|Optional||Leave this field blank if you do not want to include the SSH keys.|
|AccessCIDR	|The CIDR IP address range that is permitted to access the instance. |Optional||Teradata recommends setting this value to a trusted IP range. Define at least one of AccessCIDR, PrefixList, or SecurityGroup to allow inbound traffic unless you create custom security group ingress rules.|
|PrefixList			|The prefix list that you can use to communicate with the instance.|Optional||Define at least one of AccessCIDR, PrefixList, or SecurityGroup to allow inbound traffic unless you create custom security group ingress rules.|
|SecurityGroup	|The virtual firewall that controls inbound and outbound traffic to the instance.	|Optional||SecurityGroup is implemented as a set of rules that specify which protocols, ports, and IP addresses or CIDR blocks are allowed to access the instance. Define at least one of AccessCIDR, PrefixList, or SecurityGroup to allow inbound traffic unless you create custom security group ingress rules.|
|UsePersistentVolume|Specifies whether you want to use persistent volume to store data.|Optional with default|None|You can redeploy your engine for which the state needs to be persisted regardless of container, pod, or node crashes or terminations. AI Unlimited uses the instance root volume of the instance to save data in the JupyterLab /userdata folder, AI Unlimited database, and configuration files. The data persists if you shut down, restart, or snapshot and relaunch the instance. However, if the instance is terminated, your JupyterLab data and AI Unlimited database are lost, and this could pose problems if running on-the-spot instances, which may be removed without warning. If you want a highly persistent instance, use this parameter to move the JupyterLab data and AI Unlimited database to a separate volume.|
|PersistentVolumeSize	|The size of the persistent volume that you can attach to the instance, in GB.|Required with default|8|Supports values between 8 and 1000|
|ExistingPersistentVolumeId		|The ID of the existing persistent volume that you can attach to the instance. |Required if `UsePersistentVolume` is set to Existing	||The persistent volume must be in the same availability zone as the AI Unlimited instance. To relaunch the template with the same configuration and recreate the instance with the earlier data, set `ExistingPersistentVolumeId` to the volume-id from the previous deployment during subsequent deployments.|
|PersistentVolumeDeletionPolicy		|The persistent volume behavior when you delete the CloudFormations deployment.|Required with default|Delete|Supported options are: Delete, Retain, RetainExceptOnCreate, and Snapshot. 
To relaunch the template with the same configuration and recreate the instance with the earlier data, set the   `PersistentVolumeDeletionPolicy` to Retain during subsequent deployments.|
|LatestAmiId	|The ID of the image that points to the latest version of AMI. This value is used for the SSM lookup.|Required with defaults||This deployment uses the latest ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2 image available. **IMPORTANT**: Changing this value may break the stack.

</details>

<details>

<summary>**AI Unlimited parameters**</summary>
| Parameter | Description | Required? | Default | Notes
|---------|-------------|-----------|-----------|-----------|
|AIUnlimitedHttpPort		|The port to access the AI Unlimited UI.|Required with default	|3000||
|AIUnlimitedGrpcPort		|The port to access the AI Unlimited API.|Required with default|3282||
|AIUnlimitedVersion		|The version of AI Unlimited you want to deploy.|Required with default|latest|The value is a container version tag, for example, latest.|

</details>

<details>

<summary>**JupyterLab parameters**</summary>
| Parameter | Description | Required? | Default | Notes
|---------|-------------|-----------|-----------|-----------|
| JupyterHttpPort | The port to access the JupyterLab service UI | Required with default | 8888 | - |
| JupyterVersion | The version of JupyterLab you want to deploy. | Required with default | latest | The value is a container version tag, for example, latest. |
| JupyterToken | The token or password used to access JupyterLab from the UI | Required |- | The token must begin with a letter and contain only alphanumeric characters. The allowed pattern is ^[a-zA-Z][a-zA-Z0-9-]*. |

</details>

6. On the **Options** page, you can specify tags (key-value pairs) for resources in your stack, set permissions, set stack failure options, and set advanced options. When you're done, choose **Next**. 
7. On the **Review** page, review and confirm the template settings. Under Capabilities, select the check box to acknowledge that the template will create IAM resources. 
8. Choose **Create** to deploy the stack.
9.  Monitor the status of the stack. When the status is `CREATE_COMPLETE`, Teradata AI Unlimited is ready. 
10. Use the URLs displayed in the **Outputs** tab for the stack to view the created resources.

Teradata AI Unlimited is ready!

